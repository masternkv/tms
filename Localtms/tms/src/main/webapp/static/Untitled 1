
  
 <!DOCTYPE html>  
 <html>  
      <head>  
			<script async='async' src='//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js'></script>
		<script>
		  (adsbygoogle = window.adsbygoogle || []).push({
			google_ad_client: "ca-pub-4529508631166774",
			enable_page_level_ads: true
		  });
		</script>
		<meta http-equiv="content-type" content="text/html; charset=utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1" />
           <title>Webslesson Tutorial | PHP Ajax Update MySQL Data Through Bootstrap Modal</title>  
           <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>  
           <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" />  
           <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>  
      </head>  
      <body>  
           <br /><br />  
           <div class="container" style="width:700px;">  
                <h3 align="center">Back to Tutorial - <a href="http://www.webslesson.info/2016/10/php-ajax-update-mysql-data-through-bootstrap-modal.html" title="PHP Ajax Update MySQL Data Through Bootstrap Modal">PHP Ajax Update MySQL Data Through Bootstrap Modal</a></h3>  
                <br />
				<div class="col-md-3">
					<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- webslesson_sidebarrightsec_AdSense1_1x1_as -->
					<ins class="adsbygoogle"
						 style="display:block"
						 data-ad-client="ca-pub-4529508631166774"
						 data-ad-host="ca-host-pub-1556223355139109"
						 data-ad-host-channel="L0001"
						 data-ad-slot="8049812049"
						 data-ad-format="auto"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>
				</div>
				<div class="col-md-9">
					<div class="table-responsive">  
						 <div align="right">  
							  <button type="button" name="add" id="add" data-toggle="modal" data-target="#add_data_Modal" class="btn btn-warning">Add</button>  
						 </div>  
						 <br />  
						 <div id="employee_table">  
							  <table class="table table-bordered">  
								   <tr>  
										<th width="70%">Employee Name</th>  
										<th width="15%">Edit</th>  
										<th width="15%">View</th>  
								   </tr>  
								     
								   <tr>  
										<td>samiasxgakjg</td>  
										<td><input type="button" name="edit" value="Edit" id="193" class="btn btn-info btn-xs edit_data" /></td>  
										<td><input type="button" name="view" value="view" id="193" class="btn btn-info btn-xs view_data" /></td>  
								   </tr>  
								     
								   <tr>  
										<td>d</td>  
										<td><input type="button" name="edit" value="Edit" id="191" class="btn btn-info btn-xs edit_data" /></td>  
										<td><input type="button" name="view" value="view" id="191" class="btn btn-info btn-xs view_data" /></td>  
								   </tr>  
								     
								   <tr>  
										<td>aaaaaaaaa</td>  
										<td><input type="button" name="edit" value="Edit" id="190" class="btn btn-info btn-xs edit_data" /></td>  
										<td><input type="button" name="view" value="view" id="190" class="btn btn-info btn-xs view_data" /></td>  
								   </tr>  
								     
								   <tr>  
										<td>SSSS</td>  
										<td><input type="button" name="edit" value="Edit" id="186" class="btn btn-info btn-xs edit_data" /></td>  
										<td><input type="button" name="view" value="view" id="186" class="btn btn-info btn-xs view_data" /></td>  
								   </tr>  
								     
								   <tr>  
										<td>Steve John</td>  
										<td><input type="button" name="edit" value="Edit" id="183" class="btn btn-info btn-xs edit_data" /></td>  
										<td><input type="button" name="view" value="view" id="183" class="btn btn-info btn-xs view_data" /></td>  
								   </tr>  
								     
								   <tr>  
										<td>Kimberly J. Ellis1</td>  
										<td><input type="button" name="edit" value="Edit" id="181" class="btn btn-info btn-xs edit_data" /></td>  
										<td><input type="button" name="view" value="view" id="181" class="btn btn-info btn-xs view_data" /></td>  
								   </tr>  
								     
								   <tr>  
										<td>Patricia L. Scott1</td>  
										<td><input type="button" name="edit" value="Edit" id="177" class="btn btn-info btn-xs edit_data" /></td>  
										<td><input type="button" name="view" value="view" id="177" class="btn btn-info btn-xs view_data" /></td>  
								   </tr>  
								     
								   <tr>  
										<td>Martha B. Tomlinson</td>  
										<td><input type="button" name="edit" value="Edit" id="174" class="btn btn-info btn-xs edit_data" /></td>  
										<td><input type="button" name="view" value="view" id="174" class="btn btn-info btn-xs view_data" /></td>  
								   </tr>  
								     
								   <tr>  
										<td>Jarrod D. Jones</td>  
										<td><input type="button" name="edit" value="Edit" id="162" class="btn btn-info btn-xs edit_data" /></td>  
										<td><input type="button" name="view" value="view" id="162" class="btn btn-info btn-xs view_data" /></td>  
								   </tr>  
								     
								   <tr>  
										<td>Charles D. Horst</td>  
										<td><input type="button" name="edit" value="Edit" id="8" class="btn btn-info btn-xs edit_data" /></td>  
										<td><input type="button" name="view" value="view" id="8" class="btn btn-info btn-xs view_data" /></td>  
								   </tr>  
								     
							  </table>  
						 </div>  
					</div>
				</div>
           </div>
			<script>
			  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

			  ga('create', 'UA-87739877-1', 'auto');
			  ga('send', 'pageview');

			</script>
      </body>  
 </html>  
 <div id="dataModal" class="modal fade">  
      <div class="modal-dialog">  
           <div class="modal-content">  
                <div class="modal-header">  
                     <button type="button" class="close" data-dismiss="modal">&times;</button>  
                     <h4 class="modal-title">Employee Details</h4>  
                </div>  
                <div class="modal-body" id="employee_detail">  
                </div>  
                <div class="modal-footer">  
                     <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>  
                </div>  
           </div>  
      </div>  
 </div>  
 <div id="add_data_Modal" class="modal fade">  
      <div class="modal-dialog">  
           <div class="modal-content">  
                <div class="modal-header">  
                     <button type="button" class="close" data-dismiss="modal">&times;</button>  
                     <h4 class="modal-title">PHP Ajax Update MySQL Data Through Bootstrap Modal</h4>  
                </div>  
                <div class="modal-body">  
                     <form method="post" id="insert_form">  
                          <label>Enter Employee Name</label>  
                          <input type="text" name="name" id="name" class="form-control" />  
                          <br />  
                          <label>Enter Employee Address</label>  
                          <textarea name="address" id="address" class="form-control"></textarea>  
                          <br />  
                          <label>Select Gender</label>  
                          <select name="gender" id="gender" class="form-control">  
                               <option value="Male">Male</option>  
                               <option value="Female">Female</option>  
                          </select>  
                          <br />  
                          <label>Enter Designation</label>  
                          <input type="text" name="designation" id="designation" class="form-control" />  
                          <br />  
                          <label>Enter Age</label>  
                          <input type="text" name="age" id="age" class="form-control" />  
                          <br />  
                          <input type="hidden" name="employee_id" id="employee_id" />  
                          <input type="submit" name="insert" id="insert" value="Insert" class="btn btn-success" />  
                     </form>  
                </div>  
                <div class="modal-footer">  
                     <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>  
                </div>  
           </div>  
      </div>  
 </div>  
 <script>  
 $(document).ready(function(){  
      $('#add').click(function(){  
           $('#insert').val("Insert");  
           $('#insert_form')[0].reset();  
      });  
      $(document).on('click', '.edit_data', function(){  
           var employee_id = $(this).attr("id");  
           $.ajax({  
                url:"fetch.php",  
                method:"POST",  
                data:{employee_id:employee_id},  
                dataType:"json",  
                success:function(data){  
                     $('#name').val(data.name);  
                     $('#address').val(data.address);  
                     $('#gender').val(data.gender);  
                     $('#designation').val(data.designation);  
                     $('#age').val(data.age);  
                     $('#employee_id').val(data.id);  
                     $('#insert').val("Update");  
                     $('#add_data_Modal').modal('show');  
                }  
           });  
      });  
      $('#insert_form').on("submit", function(event){  
           event.preventDefault();  
           if($('#name').val() == "")  
           {  
                alert("Name is required");  
           }  
           else if($('#address').val() == '')  
           {  
                alert("Address is required");  
           }  
           else if($('#designation').val() == '')  
           {  
                alert("Designation is required");  
           }  
           else if($('#age').val() == '')  
           {  
                alert("Age is required");  
           }  
           else  
           {  
                $.ajax({  
                     url:"insert.php",  
                     method:"POST",  
                     data:$('#insert_form').serialize(),  
                     beforeSend:function(){  
                          $('#insert').val("Inserting");  
                     },  
                     success:function(data){  
                          $('#insert_form')[0].reset();  
                          $('#add_data_Modal').modal('hide');  
                          $('#employee_table').html(data);  
                     }  
                });  
           }  
      });  
      $(document).on('click', '.view_data', function(){  
           var employee_id = $(this).attr("id");  
           if(employee_id != '')  
           {  
                $.ajax({  
                     url:"select.php",  
                     method:"POST",  
                     data:{employee_id:employee_id},  
                     success:function(data){  
                          $('#employee_detail').html(data);  
                          $('#dataModal').modal('show');  
                     }  
                });  
           }            
      });  
 });  
 </script>